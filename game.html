<!DOCTYPE html>
<html>
    <link rel='icon' href='data:image/png;base64,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' type='image/x-icon'/ >
<head>
    <meta charset="utf-8" />
    <title>Game</title>
    <style>
    	* { padding: 0; margin: 0; }
    	canvas { background: #eee; display: block; margin: 0 auto; }
    </style>
</head>
<body>

<canvas id="myCanvas" width="480" height="320"></canvas>

<script>
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");
var ballRadius = 10;
var x = canvas.width/2;
var y = canvas.height-30;
var dx = 2;
var dy = -2;
var paddleHeight = 10;
var paddleWidth = 75;
var paddleX = (canvas.width-paddleWidth)/2;
var rightPressed = false;
var leftPressed = false;
var brickRowCount = 5;
var brickColumnCount = 3;
var brickWidth = 75;
var brickHeight = 20;
var brickPadding = 10;
var brickOffsetTop = 30;
var brickOffsetLeft = 30;
var score = 0;
var lives = 3;

var bricks = [];
for(var c=0; c<brickColumnCount; c++) {
  bricks[c] = [];
  for(var r=0; r<brickRowCount; r++) {
    bricks[c][r] = { x: 0, y: 0, status: 1 };
  }
}

document.addEventListener("keydown", keyDownHandler, false);
document.addEventListener("keyup", keyUpHandler, false);
document.addEventListener("mousemove", mouseMoveHandler, false);

function keyDownHandler(e) {
    if(e.key == "Right" || e.key == "ArrowRight") {
        rightPressed = true;
    }
    else if(e.key == "Left" || e.key == "ArrowLeft") {
        leftPressed = true;
    }
}

function keyUpHandler(e) {
    if(e.key == "Right" || e.key == "ArrowRight") {
        rightPressed = false;
    }
    else if(e.key == "Left" || e.key == "ArrowLeft") {
        leftPressed = false;
    }
}


function collisionDetection() {
  for(var c=0; c<brickColumnCount; c++) {
    for(var r=0; r<brickRowCount; r++) {
      var b = bricks[c][r];
      if(b.status == 1) {
        if(x > b.x && x < b.x+brickWidth && y > b.y && y < b.y+brickHeight) {
          dy = -dy;
          b.status = 0;
          score++;
          if(score == brickRowCount*brickColumnCount) {
            alert("YOU WIN, CONGRATS!");
            document.location.reload();
          }
        }
      }
    }
  }
}

function drawBall() {
  ctx.beginPath();
  ctx.arc(x, y, ballRadius, 0, Math.PI*2);
  ctx.fillStyle = "purple";
  ctx.fill();
  ctx.closePath();
}
function drawPaddle() {
  ctx.beginPath();
  ctx.rect(paddleX, canvas.height-paddleHeight, paddleWidth, paddleHeight);
  ctx.fillStyle = "#f66666";
  ctx.fill();
  ctx.closePath();
}
function drawBricks() {
  for(var c=0; c<brickColumnCount; c++) {
    for(var r=0; r<brickRowCount; r++) {
      if(bricks[c][r].status == 1) {
        var brickX = (r*(brickWidth+brickPadding))+brickOffsetLeft;
        var brickY = (c*(brickHeight+brickPadding))+brickOffsetTop;
        bricks[c][r].x = brickX;
        bricks[c][r].y = brickY;
        ctx.beginPath();
        ctx.rect(brickX, brickY, brickWidth, brickHeight);
        ctx.fillStyle = "#66ffff";
        ctx.fill();
        ctx.closePath();
      }
    }
  }
}
function drawScore() {
  ctx.font = "16px Arial";
  ctx.fillStyle = "#0095DD";
  ctx.fillText("Score: "+score, 8, 20);
}

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  drawBricks();
  drawBall();
  drawPaddle();
  drawScore();
  collisionDetection();

  if(x + dx > canvas.width-ballRadius || x + dx < ballRadius) {
    dx = -dx;
  }
  if(y + dy < ballRadius) {
    dy = -dy;
  }
  else if(y + dy > canvas.height-ballRadius) {
    if(x > paddleX && x < paddleX + paddleWidth) {
      dy = -dy;
    }
    else {
      lives--;
      if(!lives) {
        alert("GAME OVER");
        document.location.reload();
      }
      else {
        x = canvas.width/2;
        y = canvas.height-30;
        dx = 3;
        dy = -3;
        paddleX = (canvas.width-paddleWidth)/2;
      }
    }
  }

  if(rightPressed && paddleX < canvas.width-paddleWidth) {
    paddleX += 7;
  }
  else if(leftPressed && paddleX > 0) {
    paddleX -= 7;
  }

  x += dx;
  y += dy;
  requestAnimationFrame(draw);
}

draw();
</script>

</body>
        <footer style="font-family: fantasy">credits to amirmds</footer>

</html>
